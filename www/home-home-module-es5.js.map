{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/login/login.component.html","./src/app/home/register/register.component.html","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts","./src/app/home/login/login.component.css","./src/app/home/login/login.component.ts","./src/app/home/models/user.ts","./src/app/home/register/register.component.css","./src/app/home/register/register.component.ts","./src/app/home/services/login/login.service.ts"],"names":[],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["module.exports = \"\"","module.exports = \"\\r\\n    <ion-content class=\\\"ion-padding ion-text-center\\\">\\r\\n      <ion-title class=\\\"title\\\">Login</ion-title>\\r\\n      <ion-img class=\\\"login-img\\\" src=\\\"https://ionicframework.com/blog/wp-content/uploads/2018/11/ionic-logo-white-300x300.png\\\"></ion-img>\\r\\n    <ion-list>\\r\\n      <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n        <ion-label position=\\\"floating\\\">\\r\\n          <ion-icon name=\\\"mail\\\" item-start></ion-icon>\\r\\n          Email\\r\\n        </ion-label>\\r\\n        <ion-input color=\\\"black\\\" type=\\\"email\\\" [(ngModel)]=\\\"email\\\"></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n        <ion-label position=\\\"floating\\\">\\r\\n          <ion-icon name=\\\"lock\\\" item-start></ion-icon>\\r\\n          Password\\r\\n        </ion-label>\\r\\n        <ion-input color=\\\"black\\\" type=\\\"password\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n      \\r\\n    </ion-list>\\r\\n    <ion-button icon-left size=\\\"medium\\\" expand=\\\"full\\\" shape=\\\"round\\\" color=\\\"primary\\\" (click)=\\\"login()\\\" tappable>\\r\\n      <ion-icon name=\\\"log-in\\\"></ion-icon>\\r\\n      Signin\\r\\n    </ion-button>\\r\\n    <ion-button expand=\\\"block\\\" color=\\\"light\\\" (click)=\\\"registerUser()\\\">Register</ion-button>\\r\\n    </ion-content>\\r\\n\"","module.exports = \"\\r\\n\\r\\n<ion-content class=\\\"ion-padding ion-text-center\\\">\\r\\n        <ion-title class=\\\"title\\\">Register</ion-title>\\r\\n        <ion-img class=\\\"login-img\\\" src=\\\"https://ionicframework.com/blog/wp-content/uploads/2018/11/ionic-logo-white-300x300.png\\\"></ion-img>\\r\\n    <ion-list>\\r\\n        <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">\\r\\n                <ion-icon name=\\\"mail\\\" item-start></ion-icon>\\r\\n                Email\\r\\n              </ion-label>\\r\\n              <ion-input color=\\\"black\\\" type=\\\"email\\\" [(ngModel)]=\\\"email\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">\\r\\n                <ion-icon name=\\\"lock\\\" item-start></ion-icon>\\r\\n                Password\\r\\n              </ion-label>\\r\\n              <ion-input color=\\\"black\\\" type=\\\"password\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\r\\n        </ion-item>\\r\\n    </ion-list>\\r\\n    <ion-button color=\\\"primary\\\" (click)=\\\"registeUser()\\\">Register</ion-button>\\r\\n    <ion-button color=\\\"secondary\\\" routerLink=\\\"/home\\\">Go back</ion-button>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule  } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { HomePage } from './home.page';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: LoginComponent,\r\n        pathMatch: 'full'\r\n      },\r\n      {\r\n        path: 'register',\r\n        component: RegisterComponent,\r\n      }\r\n    ]),\r\n    IonicStorageModule.forRoot()\r\n  ],\r\n  declarations: [\r\n    HomePage,\r\n    LoginComponent,\r\n    RegisterComponent\r\n  ],\r\n  providers: [\r\n    HttpClient\r\n  ]\r\n\r\n})\r\nexport class HomePageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MifQ== */\"","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\nexport class HomePage {\r\n\r\n  constructor() {}\r\n\r\n}\r\n","module.exports = \".title  {\\r\\n    margin-top: 30vh;\\r\\n}\\r\\n\\r\\n.login-img {\\r\\n    height: 60px;\\r\\n    padding-top: 17px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGlCQUFpQjtBQUNyQiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi50aXRsZSAge1xyXG4gICAgbWFyZ2luLXRvcDogMzB2aDtcclxufVxyXG5cclxuLmxvZ2luLWltZyB7XHJcbiAgICBoZWlnaHQ6IDYwcHg7XHJcbiAgICBwYWRkaW5nLXRvcDogMTdweDtcclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { LoginService } from '../services/login/login.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n    email = '';\r\n    password = '';\r\n    constructor(\r\n      private router: Router,\r\n      private loginService: LoginService\r\n      ) {\r\n    }\r\n    login() {\r\n     this.loginService.logUser(this.email, this.password);\r\n    }\r\n\r\n    registerUser() {\r\n      this.router.navigate(['home/register']);\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n}\r\n","export class User {\r\n    public email: string;\r\n    public password: string;\r\n\r\n    constructor(email: string, password: string) {\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n}\r\n","module.exports = \".title  {\\r\\n    margin-top: 30vh;\\r\\n}\\r\\n.login-img {\\r\\n    height: 60px;\\r\\n    padding-top: 17px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0FBQ3BCO0FBQ0E7SUFDSSxZQUFZO0lBQ1osaUJBQWlCO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvaG9tZS9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxlICB7XHJcbiAgICBtYXJnaW4tdG9wOiAzMHZoO1xyXG59XHJcbi5sb2dpbi1pbWcge1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG4gICAgcGFkZGluZy10b3A6IDE3cHg7XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { LoginService } from '../services/login/login.service';\r\nimport { User } from '../models/user';\r\nimport { Router } from '@angular/router';\r\nimport { ToasterService } from '../services/toaster/toaster.service';\r\nimport { ToasterPositions } from '../models/toaster-positions';\r\n\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n\r\n  email = '';\r\n  password = '';\r\n\r\n\r\n  constructor(\r\n    private loginService: LoginService,\r\n    private router: Router,\r\n    private toasterService: ToasterService\r\n    ) {\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async registeUser() {\r\n    if (this.password.length < 5) {\r\n      this.toasterService.createToaster('Password must have min 5 characters!', 'danger', ToasterPositions.Top, false);\r\n    } else if (!this.loginService.isValidEmail(this.email)) {\r\n      this.toasterService.createToaster('invalid email', 'danger', ToasterPositions.Top, false);\r\n    } else {\r\n      this.toasterService.createToaster('User was registered', 'primary', ToasterPositions.Top, false);\r\n      const user = new User(this.email, this.password);\r\n      this.loginService.registerUser(user);\r\n      this.email = null;\r\n      this.password = null;\r\n      this.router.navigate(['home']);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { User } from '../../models/user';\r\nimport { Router } from '@angular/router';\r\nimport { ProductService } from '../product/product.service';\r\nimport { ToasterService } from '../toaster/toaster.service';\r\nimport { ToasterPositions } from '../../models/toaster-positions';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoginService {\r\n// tslint:disable-next-line: variable-name\r\nprivate _canUserEnter: boolean;\r\npublic get canUserEnter(): boolean {\r\n  return this._canUserEnter;\r\n}\r\nconstructor(\r\n  private storage: Storage,\r\n  private router: Router,\r\n  private productService: ProductService,\r\n  private toasterService: ToasterService) {\r\n\r\n}\r\nlogUser(email: string, userPassword: string) {\r\nthis.storage.keys().then(async key => {\r\n  if (key.includes(email)) {\r\n    this.storage.get(email).then(async passowrd => {\r\n      if (passowrd === userPassword) {\r\n        this.productService.setProductsIntoStorage();\r\n        this._canUserEnter = true;\r\n        this.router.navigate(['dashboard']);\r\n      } else {\r\n        this.toasterService.createToaster('Wrong email or password', 'danger', ToasterPositions.Top, false);\r\n      }\r\n    });\r\n  } else {\r\n    this.toasterService.createToaster('Wrong email or password', 'danger', ToasterPositions.Top, false);\r\n  }\r\n});\r\n}\r\n\r\nregisterUser(userInfo: User) {\r\n  this.storage.set(userInfo.email, userInfo.password);\r\n}\r\n\r\nisValidEmail(email: string): boolean {\r\n  // tslint:disable-next-line: max-line-length\r\n  const emailCharacters = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  if (!emailCharacters.test(email)) {\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n\r\n}\r\n}\r\n"],"sourceRoot":""}